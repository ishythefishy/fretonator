<!-- these are currently untabbable due to radio buttons not showing -->
<div class="modeSelectorChips">
  <!-- need a pipe to convert thisNote to NoteSymbol -->
  <ng-container *ngFor="let thisNote of octave">
    <label [for]="thisNote"
           (click)="selectNote(thisNote)"
           [class.modeSelectorChips__chip--selected]="thisNote === note"
           class="modeSelectorChips__chip modeSelectorChips__chip--round"
    ><input class="modeSelectorChips__input" type="radio" [id]="thisNote" [value]="thisNote" ng>
      <span class="modeSelectorChips__chipContent">{{thisNote | titlecase}}</span>
    </label>
  </ng-container>
</div>

<!-- this template has to be created based on the sub selections available -
not all keys service _ and # -->
<div class="modeSelectorChips modeSelectorChips__sub">
  <label for="select_a_"
         class="modeSelectorChips__chip modeSelectorChips__chip--round modeSelectorChips__chip--selected"
  ><input class="modeSelectorChips__input" type="radio" id="select_a_" value="a_">
    <span class="modeSelectorChips__chipContent">Aâ™­</span>
  </label>
  <label for="select_a_sub"
         class="modeSelectorChips__chip modeSelectorChips__chip--round"
  ><input class="modeSelectorChips__input" type="radio" id="select_a_sub" value="a">
    <span class="modeSelectorChips__chipContent">A</span>
  </label>
  <label for="select_a#"
         class="modeSelectorChips__chip modeSelectorChips__chip--round"
  ><input class="modeSelectorChips__input" type="radio" id="select_a#" value="a#">
    <span class="modeSelectorChips__chipContent">A#</span>
  </label>
</div>

<!-- mode names -->
<div class="modeSelectorChips">
  <ng-container *ngFor="let thisMode of modeSelectorObjects">
    <label class="modeSelectorChips__chip"
           [class.modeSelectorChips__chip--selected]="thisMode.name === mode"
           (click)="selectMode(thisMode.name)"
    ><input class="modeSelectorChips__input" type="radio" name="toggle" [value]="thisMode.name">
      <span class="modeSelectorChips__chipContent">{{thisMode.displayName}}</span>
    </label>
  </ng-container>
</div>

<main class="modeSelector__container">
  <h1 class="modeSelector__title">Learn modes and scales on the guitar</h1>
  <div class="modeSelector">
    <div class="modeSelector__group">
      <label for="modeSelector-key" class="modeSelector__label modeSelector__label--left">Key</label>
      <select id="modeSelector-key" class="modeSelector__select" [(ngModel)]="note">
        <option value="a_">A&#9837;</option>
        <option value="a">A</option>
        <option value="a#">A#</option>
        <option value="" disabled aria-hidden="true"></option>

        <option value="b_">B&#9837;</option>
        <option value="b">B</option>
        <option value="" disabled aria-hidden="true"></option>

        <option value="c#">C#</option>
        <option value="c">C</option>
        <option value="" disabled aria-hidden="true"></option>

        <option value="d_">D&#9837;</option>
        <option value="d">D</option>
        <option value="d#">D#</option>
        <option value="" disabled aria-hidden="true"></option>

        <option value="e_">E&#9837;</option>
        <option value="e">E</option>
        <option value="" disabled aria-hidden="true"></option>

        <option value="f">F</option>
        <option value="f#">F#</option>
        <option value="" disabled aria-hidden="true"></option>

        <option value="g_">G&#9837;</option>
        <option value="g">G</option>
        <option value="g#">G#</option>

      </select>
    </div>

    <div class="modeSelector__group">
      <label for="modeSelector-mode" class="modeSelector__label modeSelector__label--right">Mode</label>
      <select id="modeSelector-mode" class="modeSelector__select" [(ngModel)]="mode">
        <optgroup label="Modern modes">
          <option value="ionian">Ionian (Major)</option>
          <option value="dorian">Dorian</option>
          <option value="phrygian">Phrygian</option>
          <option value="lydian">Lydian</option>
          <option value="mixolydian">Mixolydian</option>
          <option value="aolian">Aolian (Natural minor)</option>
          <option value="locrian">Locrian</option>
        </optgroup>
        <optgroup label="Other scales">
          <option value="harmonicMinor">Harmonic minor</option>
        </optgroup>
      </select>
    </div>
  </div>

  <app-fretonator [scale]="note | symbolToNoteObj | getScaleFromModeMap: mode"
                  [fretMap]="note | symbolToNoteObj | generateFretMap: mode"></app-fretonator>
  <section *ngIf="note | symbolToNoteObj | getJamTrack: mode">
    <app-video-loader [jamTrack]="note | symbolToNoteObj | getJamTrack: mode"></app-video-loader>
  </section>
</main>
